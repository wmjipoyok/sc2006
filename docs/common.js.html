<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>common.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-bookings-js.html">bookings-js</a><ul class='methods'><li data-type='method'><a href="module-bookings-js.html#~displayBookings">displayBookings</a></li><li data-type='method'><a href="module-bookings-js.html#~getDaysBetweenDates">getDaysBetweenDates</a></li></ul></li><li><a href="module-car-detail-js.html">car-detail-js</a><ul class='methods'><li data-type='method'><a href="module-car-detail-js.html#~acceptCar">acceptCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~bookCar">bookCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~cancelCar">cancelCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~checkBooking">checkBooking</a></li><li data-type='method'><a href="module-car-detail-js.html#~completeCar">completeCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~deleteCar">deleteCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~errorHandle">errorHandle</a></li><li data-type='method'><a href="module-car-detail-js.html#~getStarRatings">getStarRatings</a></li><li data-type='method'><a href="module-car-detail-js.html#~rejectCar">rejectCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~retrieveCarDetails">retrieveCarDetails</a></li><li data-type='method'><a href="module-car-detail-js.html#~saveMessageToDb">saveMessageToDb</a></li><li data-type='method'><a href="module-car-detail-js.html#~sendMessage">sendMessage</a></li></ul></li><li><a href="module-car-form-js.html">car-form-js</a><ul class='methods'><li data-type='method'><a href="module-car-form-js.html#~addSlideshowJS">addSlideshowJS</a></li><li data-type='method'><a href="module-car-form-js.html#~createCarListing">createCarListing</a></li><li data-type='method'><a href="module-car-form-js.html#~disableInputs">disableInputs</a></li><li data-type='method'><a href="module-car-form-js.html#~displayImages">displayImages</a></li><li data-type='method'><a href="module-car-form-js.html#~getCarInfo">getCarInfo</a></li><li data-type='method'><a href="module-car-form-js.html#~handleImageInput">handleImageInput</a></li><li data-type='method'><a href="module-car-form-js.html#~submitForm">submitForm</a></li><li data-type='method'><a href="module-car-form-js.html#~unhideContent">unhideContent</a></li><li data-type='method'><a href="module-car-form-js.html#~uploadImage">uploadImage</a></li><li data-type='method'><a href="module-car-form-js.html#~uploadImages">uploadImages</a></li></ul></li><li><a href="module-car-list-js.html">car-list-js</a></li><li><a href="module-common-js.html">common-js</a><ul class='methods'><li data-type='method'><a href="module-common-js.html#~cancelLogout">cancelLogout</a></li><li data-type='method'><a href="module-common-js.html#~checkAlertEmpty">checkAlertEmpty</a></li><li data-type='method'><a href="module-common-js.html#~clearInputError">clearInputError</a></li><li data-type='method'><a href="module-common-js.html#~handleInputError">handleInputError</a></li><li data-type='method'><a href="module-common-js.html#~handleMsgCount">handleMsgCount</a></li><li data-type='method'><a href="module-common-js.html#~logoutHandler">logoutHandler</a></li><li data-type='method'><a href="module-common-js.html#~reformatErrorStr">reformatErrorStr</a></li><li data-type='method'><a href="module-common-js.html#~titleize">titleize</a></li></ul></li><li><a href="module-forgot-password-js.html">forgot-password-js</a><ul class='methods'><li data-type='method'><a href="module-forgot-password-js.html#~resetPassword">resetPassword</a></li></ul></li><li><a href="module-index-js.html">index-js</a><ul class='methods'><li data-type='method'><a href="module-index-js.html#~getEmailInput">getEmailInput</a></li></ul></li><li><a href="module-main-js.html">main-js</a><ul class='methods'><li data-type='method'><a href="module-main-js.html#~addCarparkMarker">addCarparkMarker</a></li><li data-type='method'><a href="module-main-js.html#~addMarker">addMarker</a></li><li data-type='method'><a href="module-main-js.html#~getData">getData</a></li><li data-type='method'><a href="module-main-js.html#~handleLocationError">handleLocationError</a></li><li data-type='method'><a href="module-main-js.html#~initMap">initMap</a></li><li data-type='method'><a href="module-main-js.html#~unhideContent">unhideContent</a></li></ul></li><li><a href="module-message-js.html">message-js</a><ul class='methods'><li data-type='method'><a href="module-message-js.html#~requestPermission">requestPermission</a></li></ul></li><li><a href="module-nav-js.html">nav-js</a><ul class='methods'><li data-type='method'><a href="module-nav-js.html#~unhideLogout">unhideLogout</a></li></ul></li><li><a href="module-profile-js.html">profile-js</a><ul class='methods'><li data-type='method'><a href="module-profile-js.html#~getRatings">getRatings</a></li><li data-type='method'><a href="module-profile-js.html#~getUploadedCars">getUploadedCars</a></li></ul></li><li><a href="module-register-js.html">register-js</a><ul class='methods'><li data-type='method'><a href="module-register-js.html#~signUpWithEmailPassword">signUpWithEmailPassword</a></li></ul></li><li><a href="module-sb-admin-2-min-js.html">sb-admin-2-min-js</a></li><li><a href="module-slideshow-js.html">slideshow-js</a><ul class='methods'><li data-type='method'><a href="module-slideshow-js.html#~currentSlide">currentSlide</a></li><li data-type='method'><a href="module-slideshow-js.html#~plusSlides">plusSlides</a></li><li data-type='method'><a href="module-slideshow-js.html#~showSlides">showSlides</a></li></ul></li><li><a href="module-svy21-js.html">svy21-js</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">common.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* @module common-js
* @description This file contains functions that can be shared across the whole project. 
Functions being used on multiple pages will be moved here to reduce code duplication and improve code usability.
*/

/**
 * The function titleize takes a string as input and returns a new string with the first letter of each
 * word capitalized.
 * @param {String} str - The input string that needs to be titleized (i.e., have the first letter of each word
 * capitalized).
 * @returns The function `titleize` is returning a modified version of the input string `str` where the
 * first letter of each word is capitalized and all other letters are in lowercase. The function
 * achieves this by first converting the entire string to lowercase, then using a regular expression to
 * match any non-alphanumeric characters followed by a letter, and replacing that letter with its
 * uppercase equivalent. The modified string is then returned
 */
function titleize(str) {
    return (" " + str).toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g, function (match, chr) {
        return " " + chr.toUpperCase();
    });
}

/**
 * The function reformatErrorStr reformats an error message string by removing "auth/" and replacing
 * hyphens with spaces, and capitalizing the first letter.
 * @param {String} messageStr - A string that may contain an error message, possibly starting with "auth/". The
 * function reformats the string by removing "auth/" if present, replacing all hyphens with spaces, and
 * capitalizing the first letter of the resulting string.
 * @returns The function `reformatErrorStr` returns a string with the first letter capitalized and with
 * any hyphens replaced with spaces. If the original string includes the substring "auth/", it removes
 * that substring before performing the other modifications.
 */
function reformatErrorStr(messageStr) {
    if (messageStr.includes("auth/")) {
        messageStr = messageStr.substring(5);
    }
    messageStr = messageStr.replace(/-/g, " ");
    var str = messageStr.charAt(0).toUpperCase() + messageStr.slice(1);
    return str;
}

/**
 * The function is called when the user logout to clear the local storage.
 */
function logoutHandler() {
    console.log("called");
    localStorage.clear();
}

/**
 * The function is called when user cancels the logout action to hide the logout modal.
 */
function cancelLogout() {
    document.getElementById("logoutModal").setAttribute("hidden", true);
}

/**
 * The function handles the visibility of notification count and message container based on their
 * content.
 */
function handleMsgCount() {
    const notiCount = document.getElementById('notiCount');
    const alertCon = document.getElementById('alertContainer');

    if (notiCount) {
        if (notiCount.style.visibility != 'hidden') {
            notiCount.style.visibility = 'hidden';
        }
        document.getElementById('notiCount').innerHTML = 0;
    }

    if (alertCon.innerHTML == "") {
        document.getElementById('noAlert').style.visibility = 'visible';
    } else {
        document.getElementById('noAlert').style.visibility = 'hidden';
    }
}

/**
 * The function checks if the notification count is empty and hides the icon if it is.
 */
function checkAlertEmpty() {
    const notiCount = document.getElementById('notiCount');
    const alertItemIcon = document.getElementById('alertItemIcon');
    if (notiCount.innerHTML == "") {
        alertItemIcon.style.visibility = 'hidden';
    }
}

/**
 * The function handles input errors by displaying an error message and changing the border color of
 * the input field to red.
 * @param {String} inputField - The ID of the input field that has an error.
 * @param {String} errorField - The ID of the HTML element where the error message will be displayed.
 * @param {String} errorMsg - The error message to be displayed in the errorField.
 */
function handleInputError(inputField, errorField, errorMsg) {
    let inputF = document.getElementById(inputField);
    var errorF = document.getElementById(errorField);
    if (errorMsg) {
        const eMsg = reformatErrorStr(errorMsg);
        errorF.innerHTML = eMsg;
    }

    errorF.removeAttribute("hidden");
    inputF.style.borderColor = "red";
}

/**
 * The function clears input errors and resets the style of the input field.
 * @param {String} inputField - The ID of the input field that needs to be cleared of errors.
 * @param {String} errorField - The ID of the HTML element that displays the error message for the input field.
 */
function clearInputError(inputField, errorField) {
    let inputF = document.getElementById(inputField);
    var errorF = document.getElementById(errorField);
    errorF.setAttribute("hidden", true);
    inputF.style.borderColor = "";
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Sun Apr 09 2023 11:34:26 GMT+0800 (Singapore Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>
