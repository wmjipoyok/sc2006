<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>forgot-password.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-bookings-js.html">bookings-js</a><ul class='methods'><li data-type='method'><a href="module-bookings-js.html#~displayBookings">displayBookings</a></li><li data-type='method'><a href="module-bookings-js.html#~getDaysBetweenDates">getDaysBetweenDates</a></li></ul></li><li><a href="module-car-detail-js.html">car-detail-js</a><ul class='methods'><li data-type='method'><a href="module-car-detail-js.html#~acceptCar">acceptCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~bookCar">bookCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~cancelCar">cancelCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~checkBooking">checkBooking</a></li><li data-type='method'><a href="module-car-detail-js.html#~completeCar">completeCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~deleteCar">deleteCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~errorHandle">errorHandle</a></li><li data-type='method'><a href="module-car-detail-js.html#~getStarRatings">getStarRatings</a></li><li data-type='method'><a href="module-car-detail-js.html#~rejectCar">rejectCar</a></li><li data-type='method'><a href="module-car-detail-js.html#~retrieveCarDetails">retrieveCarDetails</a></li><li data-type='method'><a href="module-car-detail-js.html#~saveMessageToDb">saveMessageToDb</a></li><li data-type='method'><a href="module-car-detail-js.html#~sendMessage">sendMessage</a></li></ul></li><li><a href="module-car-form-js.html">car-form-js</a><ul class='methods'><li data-type='method'><a href="module-car-form-js.html#~addSlideshowJS">addSlideshowJS</a></li><li data-type='method'><a href="module-car-form-js.html#~createCarListing">createCarListing</a></li><li data-type='method'><a href="module-car-form-js.html#~disableInputs">disableInputs</a></li><li data-type='method'><a href="module-car-form-js.html#~displayImages">displayImages</a></li><li data-type='method'><a href="module-car-form-js.html#~getCarInfo">getCarInfo</a></li><li data-type='method'><a href="module-car-form-js.html#~handleImageInput">handleImageInput</a></li><li data-type='method'><a href="module-car-form-js.html#~submitForm">submitForm</a></li><li data-type='method'><a href="module-car-form-js.html#~unhideContent">unhideContent</a></li><li data-type='method'><a href="module-car-form-js.html#~uploadImage">uploadImage</a></li><li data-type='method'><a href="module-car-form-js.html#~uploadImages">uploadImages</a></li></ul></li><li><a href="module-car-list-js.html">car-list-js</a></li><li><a href="module-common-js.html">common-js</a><ul class='methods'><li data-type='method'><a href="module-common-js.html#~cancelLogout">cancelLogout</a></li><li data-type='method'><a href="module-common-js.html#~checkAlertEmpty">checkAlertEmpty</a></li><li data-type='method'><a href="module-common-js.html#~handleMsgCount">handleMsgCount</a></li><li data-type='method'><a href="module-common-js.html#~logoutHandler">logoutHandler</a></li><li data-type='method'><a href="module-common-js.html#~reformatErrorStr">reformatErrorStr</a></li><li data-type='method'><a href="module-common-js.html#~titleize">titleize</a></li></ul></li><li><a href="module-forgot-password-js.html">forgot-password-js</a><ul class='methods'><li data-type='method'><a href="module-forgot-password-js.html#~clearEmailError">clearEmailError</a></li><li data-type='method'><a href="module-forgot-password-js.html#~getEmailError">getEmailError</a></li><li data-type='method'><a href="module-forgot-password-js.html#~resetPassword">resetPassword</a></li></ul></li><li><a href="module-index-js.html">index-js</a><ul class='methods'><li data-type='method'><a href="module-index-js.html#~clearEmailError">clearEmailError</a></li><li data-type='method'><a href="module-index-js.html#~clearPasswordError">clearPasswordError</a></li><li data-type='method'><a href="module-index-js.html#~getEmailError">getEmailError</a></li><li data-type='method'><a href="module-index-js.html#~getEmailInput">getEmailInput</a></li><li data-type='method'><a href="module-index-js.html#~getPasswordError">getPasswordError</a></li></ul></li><li><a href="module-main-js.html">main-js</a><ul class='methods'><li data-type='method'><a href="module-main-js.html#~addCarparkMarker">addCarparkMarker</a></li><li data-type='method'><a href="module-main-js.html#~addMarker">addMarker</a></li><li data-type='method'><a href="module-main-js.html#~getData">getData</a></li><li data-type='method'><a href="module-main-js.html#~handleLocationError">handleLocationError</a></li><li data-type='method'><a href="module-main-js.html#~initMap">initMap</a></li><li data-type='method'><a href="module-main-js.html#~unhideContent">unhideContent</a></li></ul></li><li><a href="module-message-js.html">message-js</a><ul class='methods'><li data-type='method'><a href="module-message-js.html#~requestPermission">requestPermission</a></li></ul></li><li><a href="module-nav-js.html">nav-js</a><ul class='methods'><li data-type='method'><a href="module-nav-js.html#~unhideLogout">unhideLogout</a></li></ul></li><li><a href="module-profile-js.html">profile-js</a><ul class='methods'><li data-type='method'><a href="module-profile-js.html#~getRatings">getRatings</a></li><li data-type='method'><a href="module-profile-js.html#~getUploadedCars">getUploadedCars</a></li></ul></li><li><a href="module-register-js.html">register-js</a><ul class='methods'><li data-type='method'><a href="module-register-js.html#~clearFieldError">clearFieldError</a></li><li data-type='method'><a href="module-register-js.html#~handleFieldError">handleFieldError</a></li><li data-type='method'><a href="module-register-js.html#~signUpWithEmailPassword">signUpWithEmailPassword</a></li></ul></li><li><a href="module-sb-admin-2-min-js.html">sb-admin-2-min-js</a></li><li><a href="module-slideshow-js.html">slideshow-js</a><ul class='methods'><li data-type='method'><a href="module-slideshow-js.html#~currentSlide">currentSlide</a></li><li data-type='method'><a href="module-slideshow-js.html#~plusSlides">plusSlides</a></li><li data-type='method'><a href="module-slideshow-js.html#~showSlides">showSlides</a></li></ul></li><li><a href="module-svy21-js.html">svy21-js</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">forgot-password.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* @module forgot-password-js
* @description This file renders the 'Forgot Password' page and ensures users submit a valid user email that exists in the system to reset passwords.
A reset password email will be sent to users and users can follow the instructions to reset their password. 
*/

/* This line of code is importing the `initializeApp` function from the Firebase App module. It is used
to initialize a Firebase app instance with the provided configuration. */
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";

/* `const firebaseConfig` is an object that contains the configuration information required to
initialize a Firebase app instance. It includes the API key, authentication domain, project ID,
storage bucket, messaging sender ID, app ID, and measurement ID. This information is used to
authenticate and connect to the Firebase services. */
const firebaseConfig = {
    apiKey: "AIzaSyClbXP8Ka7huRW2YkQEUGpT9Of6_bAIWCw",
    authDomain: "sc2006-1d9b8.firebaseapp.com",
    projectId: "sc2006-1d9b8",
    storageBucket: "sc2006-1d9b8.appspot.com",
    messagingSenderId: "18363617474",
    appId: "1:18363617474:web:de5535d545b6169e532b5b",
    measurementId: "G-NCKVJ8K4JJ"
};

/* `initializeApp(firebaseConfig);` is initializing a Firebase app instance with the provided
configuration object `firebaseConfig`. This configuration object contains the necessary information
to authenticate and connect to Firebase services such as the API key, authentication domain, project
ID, storage bucket, messaging sender ID, app ID, and measurement ID. */
initializeApp(firebaseConfig);

/* This code is selecting the HTML element with the ID "resetBtn" and assigning it to the variable
`resetBtn`. It then adds an event listener to the `resetBtn` element that listens for a "click"
event and calls the `resetPassword()` function when the button is clicked. */
var resetBtn = document.querySelector("#resetBtn");
resetBtn.addEventListener('click', function () { resetPassword() });

/**
 * This function sends a password reset email to a user's email address and handles errors related to
 * invalid or non-existent email addresses.
 */
function resetPassword() {
    const email = document.getElementById("resetEmailInput").value;
    if (email) {
        clearEmailError();
        // [START auth_send_password_reset]
        firebase.auth().sendPasswordResetEmail(email)
            .then(() => {
                document.getElementById("resetPwForm").setAttribute("hidden", true);
                document.getElementById("resetDone").removeAttribute("hidden");
                console.log("success");
            })
            .catch((error) => {
                // console.log(error.code);
                switch (error.code) {
                    case "auth/invalid-email":
                        getEmailError(error.code);
                        break;
                    case "auth/user-not-found":
                        getEmailError(error.code);
                        break;
                }
            });
        // [END auth_send_password_reset]
    } else {
        getEmailError();
    }
}

/**
 * The function displays an error message and changes the border color of an email input field.
 * @param {String} errorMsg - The errorMsg parameter is a string that contains an error message related to an
 * email input field.
 */
function getEmailError(errorMsg) {
    let emailTb = document.getElementById("resetEmailInput");
    var emailError = document.getElementById("resetEmailError");
    if (errorMsg) {
        const eMsg = reformatErrorStr(errorMsg);
        emailError.innerHTML = eMsg;
    }

    emailError.removeAttribute("hidden");
    emailTb.style.borderColor = "red";
}

/**
 * The function clears the error message and border color of an email input field.
 */
function clearEmailError() {
    let emailTb = document.getElementById("resetEmailInput");
    var emailError = document.getElementById("resetEmailError");
    emailError.setAttribute("hidden", true);
    emailTb.style.borderColor = "";
}</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Sun Apr 09 2023 01:15:08 GMT+0800 (Singapore Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>
